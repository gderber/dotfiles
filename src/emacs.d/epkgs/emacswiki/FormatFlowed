== What is flowed text? ==

##format=flowed## is defined in [http://www.faqs.org/rfcs/rfc3676.html RFC3676] and enables mail clients to support the distinction between physical and logical lines, while still supporting older clients.

The message is sent wrapped (to the 66th column if following RFC3676's suggestion), with newlines encoded with an extra space at the end of the previous line.  Graphical clients can unwrap the message back to its original form, performing word-wrapping at window's margins.  Older clients can simply disregard newline information, and display the wrapped message.

The advantage of flowed text (if an entire conversation is handled with ##format=flowed##) is the improved handling of text paragraphs (both quoted and unquoted), since each paragraph is a single logical line that gets re-wrapped by the client dynamically.  Or that's the theory, at least.  In practice difficulties arise when mail clients don't handle it correctly; for example, Gmail's lack of support is covered [https://mathiasbynens.be/notes/gmail-plain-text here] and [https://productforums.google.com/forum/#!topic/gmail/Z42NibAOzjc here].

This [https://joeclark.org/ffaq.html format=flowed FAQ] has a lot more helpful information.

== Support for flowed text in emacs ==

=== Wanderlust ===

See WlFormatFlowed.

=== Gnus ===

See GnusFormatFlowed.

=== mu4e ===

This is covered in the [https://www.djcbsoftware.nl/code/mu/mu4e/Writing-messages.html#Writing-messages mu4e FAQ].

=== Using emacs as the editor for an external MUA ===

This is [https://lists.gnu.org/archive/html/help-gnu-emacs/2006-06/msg00101.html still] less well supported than with Gnus or Wanderlust, but there are still options, e.g.

* https://emacs.stackexchange.com/questions/19296/retooling-fill-paragraph-to-append-trailing-spaces
* https://stackoverflow.com/questions/41299350/how-can-i-send-messages-with-format-flowed-with-the-notmuch-message-client

Since it's not trivial for a machine to reliably decide which paragraphs should be reflowed (or maybe not even possible without AI), the approach of hooking into ##fill-paragraph## is maybe better, since then the user can review the reflowing prior to saving the buffer and sending the message.

NOTE: a [https://github.com/legoscia/messages-are-flowing/pull/8 pull request] has been created for the ##messages-are-flowing## package that provides a hook to alter ##fill-paragraph## in a chosen major mode.

== use-hard-newlines ==

emacs has a MinorMode called ##use-hard-newlines## which provides support for a related feature: [https://www.gnu.org/software/emacs/manual/html_node/emacs/Hard-and-Soft-Newlines.html the ability to distinguish between "hard" and "soft" newlines] using TextProperties (also used by EnrichedMode).  Lines separated by a soft newline can be reflowed to any width, whereas hard newlines always cause a linebreak.  This feature is enabled via ##M-x use-hard-newlines##.

Gnus couples this feature with ##format=flowed##, so that its support for ##format=flowed## is only enabled when ##use-hard-newlines## is set - see GnusFormatFlowed for the details.

There is also a [https://github.com/legoscia/messages-are-flowing messages-are-flowing] package (available from [[MELPA]]) which enables ##use-hard-newlines## (thereby supporting ##format=flowed## within Gnus) and more importantly provides visual indication of where hard newlines exist within a buffer.  However [https://github.com/legoscia/messages-are-flowing/issues/2 it does not provide any extra support for format=flowed outside Gnus]. 

== See also ==

* LineWrap

----
CategoryMail

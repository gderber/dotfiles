==Что такое Emacs-Wiki==

Emacs-Wiki позволяет создавать и использовать гиперссылки и
несложное форматирование в простых текстовых файлах, а
также публиковать тексты в формате HTML.

Вводя слово в СмешанномРегистре (также известном как
<nowiki>CamelCaps</nowiki>) вы создаете гиперссылку на документ (файл) с
таким названием. Нажатие Enter когда курсор стоит на таком
названии приводит к созданию файла с таким именем или
открытию этого файла, если он уже существует.

Разметка, используемая в Emacs-Wiki, довольно проста для
людей, знакомых с Emacs'ом. Краткую справку по разметке
можно получить нажав  <code>C-h v emacs-wiki-publishing-markup</code>
при включенном режиме Emacs-Wiki (т.е. находясь в одном из
Wiki-файлов). Или можно обратиться к системе Info (<code>C-h i</code>)
и найти там руководство по Emacs-Wiki.


==Сводка команд==

Краткая сводка клавиатурных команд, доступных в режиме
Emacs-Wiki:

; <code>C-c C-a</code> : Перейти к списку всех Wiki-страниц.

; <code>C-c C-b</code> : Показать все страницы, которые ссылаются на текущую.

; <code>C-c C-s</code> : Поиск слова на ваших Wiki-страницах.

; <code>C-c C-f</code> : Открыть другую Wiki-страницу. Запрашивает имя файла.

; <code>C-c C-l</code> : Переключает подсветку/обновляет текущий буфер.

; <code>C-c C-p</code> : Публикует Wiki-страницы, которые изменились со
    времени предыдущей публикации.

; <code>C-c C-r</code> : Переименовать ссылку под курсором.

; <code>C-c C-e</code> : Редактировать ссылку под курсором.

; <code>C-c C-v</code> : Сменить Wiki-проект.

; <code>C-c C-D</code> : Удалить Wiki-ссылку под курсором. Эта
    возможность доступна только под X.

; <code>C-c =</code> : Сравнить текущую страницу с последней резервной
    копией (Diff).

; <code>TAB</code> : Перейти на следующую ссылку.

; <code>S-TAB</code> : Перейти на предыдущую ссылку.


==Форматирование текста==

===Абзацы===

Одна или более пустых строк трактуются как разделитель абзацев.

===Центрирование и цитаты===

Строка, начинающаяся с шести или более позиций пустого
пространтства, т.е. с пробелов или табуляций (одна
табуляция, как обычно, равна восьми пробелам) задает
центрированный абзац. (<code>M-s</code> центрирует строку в Emacs).

Строка, начинающаяся с пробелов (количеством, меньшим
шести) обозначает цитируемый абзац (blockquote).

===Стихи===

Каждая строка строфы предваряется символом "больше":

<pre>
    > Я помню чудное мгновенье:
    > Передо мной явилась ты,
    > Как мимолетное виденье,
    > Как гений чистой красоты.
</pre>


Также можно использовать тег <code>&lt;verse&gt;</code>:

<pre>
    <verse>
    Я помню чудное мгновенье:
    Передо мной явилась ты,
    Как мимолетное виденье,
    Как гений чистой красоты.
    </verse>
</pre>

===Буквальное воспроизведение===

HTML-теги <code>&lt;PRE&gt;</code>, <code>&lt;VERBATIM&gt;</code> и
<code>&lt;EXAMPLE&gt;</code> могут быть полезны. :)


===Заголовки===

<pre>
    * Первый уровень (части)
    ** Второй уровень (главы)
    *** Третий уровень (подглавы)
</pre>

Звездочки должны быть в начале строки, после них должен
быть пробел.

===Шрифты===

<pre>
    *emphasis - курсив*
    **strong emphasis - жирный**
    ***very strong emphasis - жирный курсив***
    _подчеркивание_
    <code>печатная машинка (буквальный)</code>
</pre>

===Списки===

Ненумерованный список задается так:

<pre>
    - Вариант раз
    - Вариант два
    - Вариант три
</pre>

Нумерованный список задается так:

<pre>
    1. Вариант раз
    2. Вариант два
    3. Вариант три
</pre>

Пробелы после дефиса или цифры необходимы.

Вложенные списки отсутствуют. Но можно использовать
HTML-теги, если они так уж необходимы:

<pre>
    - Hello
      <ul>
      <li>There
      <li>My friend
      </ul>
    - More items follows..
</pre>

===Ссылки и якоря===

Обычные ссылки на другие Wiki-страницы, как уже было
сказано, задаются просто в виде имени страницы в
СмешанномРегистре. 

Когда вы начинаете строку с "#anchor", где anchor -- любое
слово (последовательность символов, не содержащая
пробелов), вы определяете якорь в этом месте. Этот якорь не
будет отображаться в готовом HTML, но вы сможете
использовать его чтобы сделать ссылку на эту часть
документа из этого же или другого документа: <nop>WikiName#anchor.

Обычный адрес (URL) преобразуется в ссылку. Если это ссылка
на изображение, то данное изображение будет вставлено в
текст посредством IMG тега.

Кроме обычных ссылок в СмешанномРегистре Emacs-Wiki также
поддерживает расширенные ссылки:

<pre>
[[ссылка][текст ссылки]]
</pre>

Например:

<pre>
[[WelcomePage#credits][Авторы]]
</pre>

Расширенная ссылка всегда преобразуется в ссылку,
независимо от того, как она выглядит.

===Таблицы===

Существует две поддерживаемые разновидности разметки
страниц. Если доступен table.el Такааки Ота, просто
создайте таблицу, используя его пакет (Подробнее см. [[ТабличныйРежим]]).

Если table.el не доступен, тогда вы можете пользоваться
только простой разметкой.

Атрибуты таблицы содержатся в
 <code>emacs-wiki-table-attributes</code>. 

Синтаксис разметки следующий:

<pre>
Двойные вертикальные линии || разделяют || ячейки заголовка
Одинарные линии | разделяют ячейки | тела таблицы
И еще | немного | данных
Тройные ||| разделяют ячейки ||| "подвала" таблицы
</pre>

Остальная рзметка абзацев работает и для таблиц, т.е. шесть
и более пробелов в начале первой строки центрируют таблицу,
а от одного до шести -- задают blockquote.

===Специальная разметка===

<code>&lt;nop&gt;</code> перед словом в <nowiki>CamelCaps</nowiki> отменяет его
интерпретацию как ссылки на Wiki-страницу.

Чтобы отменить интерпретацию Emacs-Wiki можно использовать
тег <code>&lt;nowiki&gt;</code>

Горизонтальная линия: четыре дефиса от начала строки:

<pre>
----
</pre>

===Сноски===

Сноска задается числом в квадратных скобках сразу после
слова[1]



Footnotes: 

[1] Сноски определяются тем же номером в квадратных
скобках, стоящим в начале строки. Для создания сносок по
ходу набора текста очень удобно использовать команду 
<code>C-c ! a</code> режима <code>footnote-mode</code>. 
Используйте <code>C-x C-x</code> чтобы
вернуться потом из текста сносок к тому месту в тексте,
откуда была создана последняя сноска.


==Конвертирование в красивый HTML==

Emacs-Wiki позволяет получать красиво оформленный HTML из
страничек. 

Чтобы сгенерировать HTML для текущей страницы нужно
выполнить команду <code>M-x emacs-wiki-publish-this-page</code>.
HTML-файл с тем же именем будет записан в каталог
<code>~/WebWiki</code>.

Команда <code>emacs-wiki-publish</code> генерирует HTML-код для всех
страниц, а команда <code>emacs-wiki-publish-index</code> генерирует
индекс всех страниц.
